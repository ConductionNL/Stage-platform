{% extends "dashboard/base.html.twig" %}

{% block content %}
    <!-- breadcrumbs -->
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4">
        <div class="d-block mb-4 mb-md-0">
            <nav aria-label="breadcrumb" class="d-none d-md-inline-block">
                <ol class="breadcrumb breadcrumb-dark breadcrumb-transparent">
                    <li class="breadcrumb-item"><a href="{{ path('app_default_index') }}"><span
                                class="fas fa-home"></span></a></li>
                    <li class="breadcrumb-item"><a
                            href="{{ path('app_dashboard_index') }}">{{ 'Dashboard'|trans|capitalize }}</a></li>
                    <li class="breadcrumb-item"><a
                            href="{{ path('app_dashboardorganization_challenges') }}">{{ 'Challenges'|trans|capitalize }}</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">{{ 'Challenge'|trans|capitalize }}</li>
                </ol>
            </nav>
            {% if challenge['@id'] is defined and challenge['@id'] is not empty %}
            <h2 class="h4">{{ challenge.name }}</h2>
            <p class="mb-0">[text about what a challenge is]</p>
            {% endif %}
        </div>
    </div>

    <div class="row">
        <!-- left collum -->
        <div class="col-12 col-xl-8">
            <div class="card card-body bg-white border-light shadow-sm mb-4">
                <h2 class="h5 mb-4">General information</h2>
                <form action="{{ path('app_dashboardorganization_challenge', {id: challenge.id} ) }}" method="post">
                    {% if challenge['@id'] is defined and challenge['@id'] is not empty %}
                        <input type="hidden" name="@id" id="@id" value="{{ challenge['@id'] }}">
                    {% endif %}
                    <div class="row">
                        <div class="col-md-8 mb-3">
                            <div class="form-group">
                                <label for="name">{{ 'Challenge name'|trans|capitalize }}</label>
                                <input class="form-control" id="name" name="name" type="text"
                                       required=""
                                    {% if challenge.name is defined and challenge.name is not empty %}
                                    value="{{ challenge.name }}" {% else %} placeholder="{{ 'your challenge name'|trans|capitalize }}"{% endif %}>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="form-group">
                                <label for="submitters[]">{{ 'submitter'|trans|capitalize }}</label>
                                <input class="form-control" id="submitters[]" name="submitters[]" type="text"
                                       required=""
                                    {% if challenge.submitters is defined and challenge.submitters is not empty %}
                                    value="{{ challenge.submitters[0] }}" disabled {% endif %}>
                            </div>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-md-12 mb-3">
                            <div class="form-group">
                                <label for="description">{{ 'description'|trans|capitalize }}</label>
                                {% if challenge.description is defined and challenge.description is not empty %}
                                <input class="form-control" id="description" name="description" type="text"
                                       value="{{ challenge.description }}"
                                    {% else %}<textarea class="form-control" id="description" name="description" rows="3"></textarea>{% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-md-12 mb-3">
                            <div class="form-group">
                                <label for="selectionCritera[]">{{ 'selection critera'|trans|capitalize }}</label>
                                {% if challenge.selectionCritera is defined and challenge.selectionCritera is not empty %}
                                <input class="form-control" id="selectionCritera[]" name="selectionCritera[]" type="text" value="{{ challenge.selectionCritera[0] }}" disabled>
                                {% else %} <textarea class="form-control" id="selectionCritera[]" name="selectionCritera[]"></textarea>{% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <div class="col-md-12 mb-3">
                            <div class="form-group">
                                <label for="documents[]">{{ 'documents'|trans|capitalize }}</label>
                                    {% if challenge.documents is defined and challenge.documents is not empty %}
                                <input class="form-control" id="documents[]" name="documents[]" type="text" value="{{ challenge.documents[0] }}" disabled>
                                    {% else %}<input class="form-control" id="documents[]" name="documents[]" type="file">
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="budget">{{ 'budget'|trans|capitalize }}</label>
                                <input class="form-control" id="budget" name="budget" type="number"
                                    {% if challenge.budget is defined and challenge.budget is not empty %}
                                    value="{{ challenge.budget }}" disabled {% endif %}>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="dateClose">{{ 'close date'|trans|capitalize }}</label>
                                <input class="form-control" id="dateClose" name="dateClose" type="dateTime" required=""
                                    {% if challenge.dateClose is defined and challenge.dateClose is not empty %}
                                    value="{{ challenge.dateClose|date("d-m-Y", "Europe/Paris") }}" disabled {% endif %}>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <button type="submit" class="btn btn-primary">{{ 'Save'|trans|capitalize }}</button>
                    </div>
                </form>
            </div>

            <h3 class="h4">{{ 'Proposals'|trans|capitalize }}</h3>
            <p class="mb-0">{{ 'These people have applied to your position'|trans|capitalize }}</p>

            <div class="card card-body border-light shadow-sm table-wrapper table-responsive pt-0">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th class="border-0">
                            <div class="form-check dashboard-check">
                                <input class="form-check-input" type="checkbox" value="" id="userCheck55">
                                <label class="form-check-label" for="userCheck55"></label>
                            </div>
                        </th>
                        <th class="border-0">{{ 'Name'|trans|capitalize }}</th>
                        <th class="border-0">{{ 'Date Created'|trans|capitalize }}</th>
                        <th class="border-0">{{ 'Verified'|trans|capitalize }}</th>
                        <th class="border-0">{{ 'Status'|trans|capitalize }}</th>
                        <th class="border-0">{{ 'Action'|trans|capitalize }}</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        {% if proposals is defined and proposals is not empty %}
                            {% for proposal in proposals %}
                                <td>
                                    <div class="form-check dashboard-check">
                                        <input class="form-check-input" type="checkbox" value="" id="userCheck1">
                                        <label class="form-check-label" for="userCheck1"></label>
                                    </div>
                                </td>
                                <td>
                                    <a href="#" class="d-flex align-items-center"><img
                                            src="../../assets/img/team/profile-picture-1.jpg"
                                            class="user-avatar rounded-circle mr-3" alt="Avatar">
                                        <div class="d-block"><span class="font-weight-bold">{{ proposal.name }}</span>
                                            <div class="small text-gray">{{ proposal.description }}</div>
                                        </div>
                                    </a>
                                </td>
                                <td><span
                                        class="font-weight-normal">{{ proposal.created|date("d-m-Y", "Europe/Paris") }}</span>
                                </td>
                                <td><span class="font-weight-normal"><span
                                            class="fas fa-check-circle text-success mr-2"></span>Email{{ 'Name'|trans|capitalize }}</span>
                                </td>
                                <td><span class="font-weight-normal text-success">{{ proposal.status }}</span></td>
                                <td>
                                    <div class="btn-group">
                                        <button
                                            class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-0"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span
                                                class="icon icon-sm"><span
                                                    class="fas fa-ellipsis-h icon-dark"></span> </span><span
                                                class="sr-only">Toggle Dropdown</span>
                                        </button>
                                        <div class="dropdown-menu"><a class="dropdown-item" href="#"><span
                                                    class="fas fa-user-shield mr-2"></span>{{ ' Reset Pass'|trans|capitalize }}</a> <a
                                                class="dropdown-item" href="#"><span class="fas fa-eye mr-2"></span>{{ 'View
                                                Details'|trans|capitalize }}</a>
                                            <a class="dropdown-item text-danger" href="#"><span
                                                    class="fas fa-user-times mr-2"></span>{{ 'Suspend'|trans|capitalize }}</a></div>
                                    </div>
                                    <a href="#" class="text-danger ml-2" title="" data-toggle="tooltip"
                                       data-original-title="Delete"><span class="fas fa-times-circle"></span></a></td>
                            {% endfor %}
                        {% endif %}
                    </tr>
                    </tbody>
                </table>
{#                <div class="card-footer px-3 d-flex align-items-center justify-content-between">#}
{#                    <nav aria-label="Page navigation example">#}
{#                        <ul class="pagination mb-0">#}
{#                            <li class="page-item"><a class="page-link" href="#">Previous</a></li>#}
{#                            <li class="page-item"><a class="page-link" href="#">1</a></li>#}
{#                            <li class="page-item active"><a class="page-link" href="#">2</a></li>#}
{#                            <li class="page-item"><a class="page-link" href="#">3</a></li>#}
{#                            <li class="page-item"><a class="page-link" href="#">4</a></li>#}
{#                            <li class="page-item"><a class="page-link" href="#">5</a></li>#}
{#                            <li class="page-item"><a class="page-link" href="#">Next</a></li>#}
{#                        </ul>#}
{#                    </nav>#}
{#                    <div class="font-weight-bold small">Showing <b>5</b> out of <b>25</b> entries</div>#}
{#                </div>#}
            </div>
        </div>

        <!-- right collum -->
        <div class="col-12 col-xl-4">
            <div class="row">
                <div class="col-12 col-sm-6 col-xl-12">
                    <div class="card card-body bg-white border-light shadow-sm mb-4">
                        <h2 class="h5 mb-4">{{ 'Select profile photo'|trans|capitalize }}</h2>
                        <div class="d-xl-flex align-items-center">
                            <div>
                                <div class="user-avatar xl-avatar mb-3"><img class="rounded"
                                                                             src="../../assets/img/team/profile-picture-3.jpg"
                                                                             alt="change avatar"></div>
                            </div>
                            <div class="file-field">
                                <div class="d-flex justify-content-xl-center ml-xl-3">
                                    <div class="d-flex"><span class="icon icon-md"><span
                                                class="fas fa-paperclip mr-3"></span></span>
                                        <input type="file">
                                        <div class="d-md-block text-left">
                                            <div class="font-weight-normal text-dark mb-1">{{ 'Choose Image'|trans|capitalize }}</div>
                                            <div class="text-gray small">{{ 'JPG, GIF or PNG. Max size of 800K'|trans|capitalize }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-sm-6 col-xl-12">
                    <div class="card card-body bg-white border-light shadow-sm mb-4">
                        <h2 class="h5 mb-4">{{ 'Select cover photo'|trans|capitalize }}</h2>
                        <div class="d-xl-flex align-items-center">
                            <div>
                                <div class="user-avatar xl-avatar mb-3"><img class="rounded"
                                                                             src="../../assets/img/carousel/image-2.jpg"
                                                                             alt="change avatar"></div>
                            </div>
                            <div class="file-field">
                                <div class="d-flex justify-content-xl-center ml-xl-3">
                                    <div class="d-flex"><span class="icon icon-md"><span
                                                class="fas fa-paperclip mr-3"></span></span>
                                        <input type="file">
                                        <div class="d-md-block text-left">
                                            <div class="font-weight-normal text-dark mb-1">{{ 'Choose Image'|trans|capitalize }}</div>
                                            <div class="text-gray small">{{ 'JPG, GIF or PNG. Max size of 800K'|trans|capitalize }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
